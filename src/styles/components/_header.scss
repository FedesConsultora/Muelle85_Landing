// src/styles/components/_header.scss
@use '../_variables' as v;

.site-header {
  width: 100%;
  z-index: 50;

  &.is-overlay {
    position: absolute; /* sobre el hero */
    top: 12px; left: 0;
  }
  &.is-open {
    position: relative; /* baja y empuja contenido al abrir */
    top: 0;
    transition: transform .18s ease;
  }
}

/* barra superior */
.site-header__bar {
  margin: 0 12px;
  padding: 10px 14px;
  border-radius: 14px;
  display: flex; align-items: center; justify-content: space-between;
  color: #fff;
}

/* glass effect (según referencia: #222124 50% + blur) */
.glass {
  background: rgba(34, 33, 36, .5);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 6px 18px rgba(0,0,0,.25) inset, 0 2px 10px rgba(0,0,0,.12);
}

.brand img { display: block; height: 28px; }

.menu-toggle {
  appearance: none; border: 0; background: transparent;
  color: #fff; font-size: 22px; line-height: 1; padding: 6px 8px;
  border-radius: 10px; cursor: pointer; transition: background .15s ease, opacity .15s ease;
  &:hover { background: rgba(255,255,255,.08); opacity: .95; }
}

/* panel del menú (dropdown) */
.nav-panel {
  margin: 8px 12px 0;
  border-radius: 14px;
  overflow: hidden;
  transform-origin: top center;
  background: rgba(18, 22, 28, .96);
  border: 1px solid rgba(255,255,255,.10);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);

  /* animación con transición de max-height + opacidad + translateY */
  max-height: 0;
  opacity: 0;
  transform: translateY(-6px);
  transition:
    max-height .28s ease,
    opacity .18s ease,
    transform .18s ease;

  &[data-open="true"] {
    max-height: 320px; /* suficiente para 4 items */
    opacity: 1;
    transform: translateY(0);
  }

  a {
    display: block;
    padding: 14px 16px;
    color: #fff;
    text-decoration: none;
    border-bottom: 1px solid rgba(255,255,255,.06);
    font-weight: 600;
    letter-spacing: .2px;
    &:last-child { border-bottom: 0; }
    &:hover { background: rgba(255,255,255,.06); }
  }
}

/* desktop: header siempre relativo y menú horizontal */
@media (min-width: 1024px) {
  .site-header {
    position: sticky;
    top: 0; /* se queda arriba al hacer scroll */
    padding-top: 8px;
  }
  .site-header__bar {
    margin: 8px auto 12px; width: min(100%, var(--container-max));
  }
  .menu-toggle { display: none; }

  .nav-panel {
    width: min(100%, var(--container-max));
    margin: 0 auto;
    display: grid;
    grid-auto-flow: column;
    justify-content: end;
    background: transparent;
    border: 0;
    -webkit-backdrop-filter: none; backdrop-filter: none;
    max-height: none; opacity: 1; transform: none;
    transition: none;

    a {
      border: 0; padding: 10px 14px; border-radius: 10px;
      &:hover { background: rgba(255,255,255,.08); }
    }
  }
}
